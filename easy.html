<!DOCTYPE html>
<html lang="en">

     <head>
          <meta charset="UTF-8">
          <meta http-equiv="X-UA-Compatible" content="IE=edge">
          <meta name="viewport" content="width=device-width, initial-scale=1.0">
          <title>easy page</title>
          <link rel="stylesheet" href="./assets/css/math.css">
          <link rel="stylesheet" href="./assets/css/all.min.css">
          <link rel="preconnect" href="https://fonts.googleapis.com">
          <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
          <link href="https://fonts.googleapis.com/css2?family=Amatic+SC&family=Bangers&family=Cinzel:wght@400;600&family=Edu+TAS+Beginner&family=Edu+VIC+WA+NT+Beginner&family=Exo:wght@300&family=Lobster&family=Monoton&family=Press+Start+2P&family=Roboto+Flex:opsz,wght@8..144,200&family=Roboto+Slab:wght@100;300&family=Silkscreen&display=swap"
               rel="stylesheet">
          <link rel="preconnect" href="https://fonts.googleapis.com">
          <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
          <link href="https://fonts.googleapis.com/css2?family=Amatic+SC&family=Bangers&family=Cinzel:wght@400;600&family=Edu+TAS+Beginner&family=Edu+VIC+WA+NT+Beginner&family=Exo:wght@300&family=Genos:ital,wght@0,400;1,100&family=IBM+Plex+Serif:wght@300&family=Lobster&family=Monoton&family=Nanum+Gothic&family=Press+Start+2P&family=Roboto+Flex:opsz,wght@8..144,200&family=Roboto+Slab:wght@100;300&family=Silkscreen&display=swap"
               rel="stylesheet">
               <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css">
     </head>

     <body class="main-body">
          <header class="quiz-header">
               <div class="nav-logo">
                    <img class="brand-img" src="./assets/images/IMG_9630.JPEG" alt="">
                    <h2>EKENESZN</h2>
               </div>
          </header>
          <div class="start-part">
               <h1 class="start-part-head">Are you ready?</h1>
               <h3 class="rules-head">Rules of the game</h3>
               <p class="rules">1. you have only 30 seconds to answer all questions.</p>
               <p class="rules">2. you can only select one answer from the options.</p>
               <p class="rules">3. once your timer elapses it submits automatically.</p>
               <div class="start-btn">
                    <button class="yes">Yes</button>
                    <a href="./index.html"><button class="no">No</button></a>
               </div>
          </div>
          <div>
               <div class="timer"></div>
               <div class="easy-body center">
                    <div class="question-slide">
                    </div>
               </div>
               <div class="buttons">
                    <button class="Previous">Previous</button>
                    <button class="next">Next</button>
                    <button class="submit">Submit</button>
               </div>
               <div class="alert">
                    <h2>Time's Up !!!!</h2>
               </div>
               <div class="result">
               </div>
               </div>
               <script src="./assets/js/all.min.js"></script>
          <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
          <script>
               let mathquiz = [
                    {
                         questionID: 1,
                         AnswerID: 1,
                         question: 'What is 2+2 ?',
                         answer: 2 + 2,
                         page: 1,
                         firstopt: 2,
                         secondopt: 4,
                         thirdopt: 7
                    },
                    {
                         question: 'What is 5 * 5 ?',
                         questionID: 2,
                         AnswerID: 2,
                         answer: 5 * 5,
                         page: 2,
                         firstopt: 21,
                         secondopt: 25,
                         thirdopt: 44
                    },
                    {
                         question: 'What is 10 - 3 ?',
                         questionID: 3,
                         AnswerID: 3,
                         answer: 10 - 3,
                         page: 3,
                         firstopt: 5,
                         secondopt: 2,
                         thirdopt: 7
                    },
                    {
                         question: 'What is 21+2 ?',
                         questionID: 4,
                         AnswerID: 4,
                         answer: 21 + 2,
                         page: 4,
                         firstopt: 23,
                         secondopt: 11,
                         thirdopt: 9
                    },
                    {
                         question: 'What is 8/2 ?',
                         questionID: 5,
                         AnswerID: 5,
                         answer: 8 / 2,
                         page: 5,
                         firstopt: 3,
                         secondopt: 6,
                         thirdopt: 4
                    },
                    {
                         question: 'What is 4 x 3 + 2 ?',
                         questionID: 6,
                         AnswerID: 6,
                         answer: 4 * 3 + 2,
                         page: 6,
                         firstopt: 13,
                         secondopt: 19,
                         thirdopt: 14
                    },
                    {
                         question: 'What is 71-10 ?',
                         questionID: 7,
                         AnswerID: 7,
                         answer: 71 - 10,
                         page: 7,
                         firstopt: 61,
                         secondopt: 33,
                         thirdopt: 2
                    },
                    {
                         question: 'What is 12-2 ?',
                         questionID: 8,
                         AnswerID: 8,
                         answer: 12 - 2,
                         page: 8,
                         firstopt: 10,
                         secondopt: 5,
                         thirdopt: 17
                    },
                    {
                         question: 'What is 12+12 ?',
                         questionID: 9,
                         AnswerID: 9,
                         answer: 12 + 12,
                         page: 9,
                         firstopt: 24,
                         secondopt: 15,
                         thirdopt: 10
                    },
                    {
                         question: 'What is 23+5 ?',
                         questionID: 10,
                         AnswerID: 10,
                         answer: 23 + 5,
                         page: 10,
                         firstopt: 28,
                         secondopt: 23,
                         thirdopt: 47
                    },
               ];
               function singleelem(elem) {
                    return document.querySelector(elem);
               };
               function multielem(elem) {
                    return document.querySelectorAll(elem);
               };
                    let submitBtn = singleelem(".submit");
               let easySection = singleelem(".easy-body");
               let slider = singleelem(".question-slide");
               let pagenumber = singleelem("page-no");
               let timer = singleelem(".timer");
               let yesBtn = singleelem(".yes");
                    let nextBtn = singleelem(".next");
                         let previousBtn = singleelem(".Previous");
                                                                 let question = singleelem(".questions");
                                                                      let result = singleelem(".result");
                         i = 0;
                         let score = 0;

               mathquiz.forEach(element => {
                    //  console.log(element);
                    let { question, answer, page, firstopt, secondopt, thirdopt } = element;
                    slider.innerHTML += `
                    <div class="questions">
                         <div class="top-part">
                              <h3 class="question-head"> ${question}</h3>
                              <div class="page">${page} of 10</div>
                              <div class = "answer">${answer}</div>
                         </div>
                         <ol class="option-wrap">
                              <li><div class="options">${firstopt}</div></li>
                              <li><div class="options">${secondopt}</div></li>
                              <li><div class="options">${thirdopt}</div></li>
                         </ol> 
                </div>`;

                    let options = multielem(".options");
                    options.forEach((option) => {
                         option.onclick = () => {
                              const clickedOption = option.innerText;
                              const answerElement = option
                                   .closest(".questions")
                                   .querySelector(".answer");
                              const correctAnswer = answerElement.innerText;
                              if (clickedOption === correctAnswer) {
                                   option.style.color = "green"
                                   score += 10;

                              }
                              else {
                                   score += 0;
                                   option.style.color = "red";

                              }
                         };
                    });
                    submitBtn.onclick = () => {
                         clearInterval(timemng);
                         let comment = "";
                         if (score > 60) {
                              comment = "You did great ";

                         }
                         if (score < 60) {
                              comment = "You can do better ";

                         }
                         result.innerHTML = `
               <div class="result-body">
                    <i class="fa fa-crown"></i>
                    <h2 class="result-head">${comment
                              }</h2>
                    <p class="result-paragraph">your score is ${score}/100</p>
                    <div class="result-btn">
                         <a href="./easy.html"><button class="play-again">Play Again</button></a>
                         <a href="./medium.html"><button class="play-again">Increase Level</button></a>
                    </div>
               </div>
             `
                    }

               });
               nextBtn.onclick = () => {
                    i += 1;
                    slider.style.right = `${i + "00%"}`;
                    if (slider.style.right == "1000%") {
                         slider.style.right = "0%";
                         i = 0;
                    }
               };
               previousBtn.onclick = () => {
                    i--;
                    slider.style.right = `${i + "00%"}`;
                    if (slider.style.right == '-100%') {
                         slider.style.right = "900%";
                         i = 9;
                    }
               }
                                                                      let time = 0;
                    let easySide = singleelem(".easy-body");
                                                                      let startSection = singleelem(".start-part");
                         let alert = singleelem(".alert");
                                                            let timemng;
                                                            // let timemng;
                                                            yesBtn.onclick = () => {
                                                                 previousBtn.style.display = "block";
                                                                 nextBtn.style.display = "block";
                                                                 submitBtn.style.display = "block";
                                                                 timer.style.display = "block";
                                                                 startSection.style.display = "none";
                                                            timemng =
                              setInterval(() => {
                                   timer.innerHTML = `<p>Timer:${time++}:00</p>`;
                                   if (time > 30) {
                                        alert.style.display = "block";
                                        let comment = "";
                                        if (score > 60) {
                                             comment = "You did great ";
                                        }
                                        if (score < 60) {
                                             comment = "You can do better ";
                                        }
                                        result.innerHTML = `
                                             <div class="result-body">
                                                  <i class="fa fa-crown"></i>
                                                  <h2 class="result-head">${comment}</h2>
                                                  <p class="result-paragraph">your score is ${score}/100</p>
                                                  <div class="result-btn">
                                                       <a href="./easy.html"><button class="play-again">Play Again</button></a>
                                                       <a href="./medium.html"><button class="play-again">Increase Level</button></a>
                                                  </div>
                                             </div> `;
                                             
                                        clearInterval(timemng);
                                   }
                              }, 1000);
                    };

          </script>
     </body>

</html>